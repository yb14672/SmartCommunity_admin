<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zy_admin.community.entity.ZyRoom">
    <!--将实体类属性和数据库字段对应上-->
    <resultMap type="com.zy_admin.community.dto.ZyRoomDto" id="ZyRoomMap" autoMapping="true">
        <collection property="zyRoomList" javaType="com.zy_admin.community.entity.ZyRoom" autoMapping="true">
            <id column="room_id" property="roomId" javaType="INTEGER"/>
        </collection>
    </resultMap>
    <!--查询指定行数据-->
    <select id="selectRoleByLimit" parameterType="com.zy_admin.community.entity.ZyRoom" resultMap='ZyRoomMap'>
        SELECT * FROM zy_room
        <where>
        <if test="unitId != null and unitId !=''" >
            and unit_id = #{unitId}
        </if>
        <if test="roomStatus != null and roomStatus !=''" >
            and room_status = #{roomStatus}
        </if>
            <if test="pageable.pageSize!=0">
                limit #{pageable.index},#{pageable.pageSize}
            </if>
        </where>
    </select>
</mapper>